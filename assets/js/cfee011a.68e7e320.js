"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4558],{5652:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>m});var t=n(5893),a=n(1151);const i={title:"3_batch_CreateIncrementalModels",description:"The script used to create/learn models using ChromHMM.",sidebar_position:4},r="3_batch_CreateIncrementalModels",o={id:"ChromOptimise/Pipeline-Explanation/batch_CreateIncrementalModels",title:"3_batch_CreateIncrementalModels",description:"The script used to create/learn models using ChromHMM.",source:"@site/docs/ChromOptimise/Pipeline-Explanation/3_batch_CreateIncrementalModels.md",sourceDirName:"ChromOptimise/Pipeline-Explanation",slug:"/ChromOptimise/Pipeline-Explanation/batch_CreateIncrementalModels",permalink:"/ChromOptimise/ChromOptimise/Pipeline-Explanation/batch_CreateIncrementalModels",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"3_batch_CreateIncrementalModels",description:"The script used to create/learn models using ChromHMM.",sidebar_position:4},sidebar:"documentationSidebar",previous:{title:"2_BinarizeFiles",permalink:"/ChromOptimise/ChromOptimise/Pipeline-Explanation/BinarizeFiles"},next:{title:"Optimal Number of States",permalink:"/ChromOptimise/category/optimal-number-of-states"}},l={},m=[{value:"Explanation",id:"explanation",level:2},{value:"Maximum number of states",id:"maximum-number-of-states",level:3}];function h(e){const s={a:"a",admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",math:"math",mi:"mi",mn:"mn",mrow:"mrow",msup:"msup",p:"p",pre:"pre",semantics:"semantics",span:"span",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"3_batch_createincrementalmodels",children:"3_batch_CreateIncrementalModels"}),"\n",(0,t.jsx)(s.h2,{id:"explanation",children:"Explanation"}),"\n",(0,t.jsxs)(s.p,{children:["This uses ChromHMM's ",(0,t.jsx)(s.code,{children:"LearnModel"})," command to learn multiple hidden Markov\nmodels. It also obtains the\n",(0,t.jsx)(s.a,{href:"/ChromOptimise/ChromOptimise/ChromHMM-overview#estimated-log-likelihood",children:"estimated log likelihood"}),"\nvalue of each model."]}),"\n",(0,t.jsx)(s.p,{children:"This script will always generate a model with 2 states. Inspecting the emission\nparameters for this simple model is a good way of validating your data."}),"\n",(0,t.jsx)(s.p,{children:"Generally, most of your genomic data will be non-coding regions. The 2 state\nmodel should reflect this property in the overlap files produced."}),"\n",(0,t.jsx)(s.h3,{id:"maximum-number-of-states",children:"Maximum number of states"}),"\n",(0,t.jsx)(s.p,{children:"This script uses the 'information' initialisation method for the starting\nparameter set for the model. Due to this, the number of states in the model\ncannot exceed the total number of combinations of marks in your dataset."}),"\n",(0,t.jsxs)(s.p,{children:["One may not know this number before running the script. However, the maximum\nnumber of mark combinations one can have for a binary file will always be less\nthan or equal to ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsxs)(s.msup,{children:[(0,t.jsx)(s.mn,{children:"2"}),(0,t.jsx)(s.mi,{children:"k"})]})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^k"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.8491em"}}),(0,t.jsxs)(s.span,{className:"mord",children:[(0,t.jsx)(s.span,{className:"mord",children:"2"}),(0,t.jsx)(s.span,{className:"msupsub",children:(0,t.jsx)(s.span,{className:"vlist-t",children:(0,t.jsx)(s.span,{className:"vlist-r",children:(0,t.jsx)(s.span,{className:"vlist",style:{height:"0.8491em"},children:(0,t.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,t.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"},children:"k"})})]})})})})})]})]})})]}),", where ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"k"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})," is the total number of marks. If one exceeds\nthe maximum number of states permitted for this initialisation technique,\nChromHMM will tell the user the maximum number of states allowed in the\nassociated error message."]}),"\n",(0,t.jsx)(s.h1,{id:"example-usage",children:"Example usage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Generates 6 models using the hg19 assembly (sizes 2-7) using \n# the binarized files with bin size 200 and sample size 75%\n# --array=1-3 is used so that each array element learns 2 models (optimal).\nsbatch --array=1-3 3_batch_CreateIncementalModels.sh \\\n--config="path/to/configuration/directory" \\\n--nummodels=6 \\\n--binsize=200 \\\n--samplesize=75 \\\n--assembly=hg19\n'})}),"\n",(0,t.jsx)(s.admonition,{title:"consistency",type:"warning",children:(0,t.jsx)(s.p,{children:"Ensure that the bin size, sample size and assembly are consistent across the\npipeline."})})]})}function c(e={}){const{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},1151:(e,s,n)=>{n.d(s,{Z:()=>o,a:()=>r});var t=n(7294);const a={},i=t.createContext(a);function r(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);