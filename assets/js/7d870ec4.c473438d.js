"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5938],{2566:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var t=s(5893),n=s(1151);const o={title:"2_batch_ProcessBamFiles",description:"The script used to process collated bam files.",sidebar_position:4},a="2_batch_ProcessBamFiles",r={id:"ChromOptimise/Pipeline-Explanation/batch_ProcessBamFiles",title:"2_batch_ProcessBamFiles",description:"The script used to process collated bam files.",source:"@site/docs/ChromOptimise/Pipeline-Explanation/2_batch_ProcessBamFiles.md",sourceDirName:"ChromOptimise/Pipeline-Explanation",slug:"/ChromOptimise/Pipeline-Explanation/batch_ProcessBamFiles",permalink:"/ChromOptimise/ChromOptimise/Pipeline-Explanation/batch_ProcessBamFiles",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"2_batch_ProcessBamFiles",description:"The script used to process collated bam files.",sidebar_position:4},sidebar:"documentationSidebar",previous:{title:"1_MoveFilesToSingleDirectory",permalink:"/ChromOptimise/ChromOptimise/Pipeline-Explanation/MoveFilesToSingleDirectory"},next:{title:"3_SubsampleBamFiles",permalink:"/ChromOptimise/ChromOptimise/Pipeline-Explanation/SubsampleBamFiles"}},l={},c=[{value:"Explanation",id:"explanation",level:2},{value:"Example usage",id:"example-usage",level:2}];function p(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"2_batch_processbamfiles",children:"2_batch_ProcessBamFiles"}),"\n",(0,t.jsx)(i.admonition,{title:"Skipping script 1",type:"warning",children:(0,t.jsx)(i.p,{children:"If you skipped script 1 (1_MoveFilesToSingleDirectory.sh), please ensure that your files are separated into different folders (by epigenetic mark). The names of these folders doesn't matter, but we recommend naming them after the epignetic mark name (so help messages make sense)."})}),"\n",(0,t.jsx)(i.h2,{id:"explanation",children:"Explanation"}),"\n",(0,t.jsx)(i.admonition,{title:"blueprint specifics",type:"info",children:(0,t.jsx)(i.p,{children:"The processing steps taken in this script are highly specific to the ChIP-Seq data obtained from the blueprint consortium. In the event that your data is not similar to this dataset, we recommend that the user completes this step on their own accord and skips this script."})}),"\n",(0,t.jsxs)(i.p,{children:["The purpose of this step is to sort, index, filter and remove the duplicates of the aligned ",(0,t.jsx)(i.code,{children:".bam"})," files. This step also outputs some statistics on the aligned read files using ",(0,t.jsx)(i.code,{children:"samtools stats"})," and ",(0,t.jsx)(i.code,{children:"samtools idxstats"})," before and after processing (for additional user information)."]}),"\n",(0,t.jsx)(i.p,{children:"Due to the current specificity of this script, it will likely only work with data that satisfies the following:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Aligned read files are single end (if paired end, you could discard one of the strands)"}),"\n",(0,t.jsx)(i.li,{children:"Picard (or similar) has been used to mark duplicate reads in the data"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"example-usage",children:"Example usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:'# Processes all files in ${RAW_DIR}/H3K27me3 using a Phred score threshold\n# of 30 in an array of size 4 (jobs split into 4 subprocesses)\nsbatch --array=1-4 2_batch_ProcessBamFiles.sh \\\n--config="path/to/configuration/directory" \\\n--mark="H3K27me3" \\\n--phred=30\n'})})]})}function d(e={}){const{wrapper:i}={...(0,n.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},1151:(e,i,s)=>{s.d(i,{Z:()=>r,a:()=>a});var t=s(7294);const n={},o=t.createContext(n);function a(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);